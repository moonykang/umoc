SET(SUBDIRECTORIES
    compute
    environment
    postprocess
    sceneRenderer
)

FILE(GLOB SUBSOURCES ${CMAKE_CURRENT_SOURCE_DIR}/*.cpp)
FILE(GLOB SUBHEADERS ${CMAKE_CURRENT_SOURCE_DIR}/*.h)

FOREACH(DIRECTORY ${SUBDIRECTORIES})
    FILE(GLOB ADDITIONAL_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/${DIRECTORY}/*.cpp)
    FILE(GLOB ADDITIONAL_HEADERS ${CMAKE_CURRENT_SOURCE_DIR}/${DIRECTORY}/*.h)
    SET(SUBSOURCES ${SUBSOURCES} ${ADDITIONAL_SOURCES})
    SET(SUBHEADERS ${SUBHEADERS} ${ADDITIONAL_HEADERS})
ENDFOREACH()

SET(SOURCES ${SOURCES} ${SUBSOURCES} PARENT_SCOPE)
SET(HEADERS ${HEADERS} ${SUBHEADERS} PARENT_SCOPE)
